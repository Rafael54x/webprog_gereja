<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>GPdI Bethlehem</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" 
          rel="stylesheet" 
          integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" 
          crossorigin="anonymous">
    
    <link rel="icon" type="image/png" href="/Foto/logo/logo_biasa.png"> 

    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/authCheck.js"></script>
</head>
<body class="admin-page">
    <header></header>
    <main class="container py-4" style="margin-top: 130px;">
        
        <div class="d-flex justify-content-between align-items-center mb-4">
            <h2>Manajemen Data Jemaat</h2>
        </div>
        
        <div id="jemaatStatusMessage" class="alert d-none" role="alert"></div>

        <div class="d-flex mb-4">
            <button id="show-add-form-btn" class="btn btn-gradient me-2">
                + Tambah Jemaat Baru
            </button>
            <button class="btn btn-danger" onclick="window.print()">
                üñ®Ô∏è Print Data
            </button>
        </div>
        
        <div id="form-jemaat-container" class="card custom-card p-3 mb-4" style="display:none;">
            <h3 id="form-title" class="card-title">Tambah Jemaat Baru</h3>
            <form id="jemaat-form" class="row g-3"> 
                <input type="hidden" name="id" id="jemaat-id">

                <div class="col-md-12">
                    <input type="text" name="nama_lengkap" placeholder="Nama Lengkap" class="form-control" required>
                </div>
                
                <div class="col-md-12">
                    <textarea name="alamat" placeholder="Alamat" class="form-control"></textarea>
                </div>

                <div class="col-md-6">
                    <input type="text" name="nomor_telepon" placeholder="Nomor Telepon" class="form-control">
                </div>

                <div class="col-md-6">
                    <label class="form-label visually-hidden" for="tanggal_lahir_input">Tanggal Lahir</label>
                    <input type="date" name="tanggal_lahir" id="tanggal_lahir_input" class="form-control" title="Tanggal Lahir">
                </div>

                <div class="col-md-12">
                    <select name="jenis_kelamin" class="form-select">
                        <option value="" disabled selected>Pilih Jenis Kelamin</option>
                        <option value="Laki-laki">Laki-laki</option>
                        <option value="Perempuan">Perempuan</option>
                    </select>
                </div>

                <div class="col-12 mt-3">
                    <button type="submit" class="btn btn-primary me-2">Simpan</button>
                    <button type="button" id="cancel-edit-btn" class="btn btn-danger">Batal</button>
                </div>
            </form>
        </div>
        
        <form id="search-sort-form" class="row g-3 mb-4 align-items-end">
            <div class="col-sm-12 col-md-5">
                <label for="search-input" class="form-label visually-hidden">Cari Jemaat</label>
                <input type="text" id="search-input" name="search" placeholder="Cari Nama/Email..." class="form-control">
            </div>
            
            <div class="col-sm-6 col-md-3">
                 <label for="sort-by" class="form-label visually-hidden">Urutkan</label>
                <select id="sort-by" name="sort_by" class="form-select">
                    <option value="nama_lengkap">Urutkan Berdasarkan Nama</option>
                    <option value="id">Urutkan Berdasarkan ID</option>
                    <option value="tanggal_lahir">Urutkan Berdasarkan Tanggal Lahir</option>
                </select>
            </div>
            
            <div class="col-sm-6 col-md-2">
                 <label for="sort-order" class="form-label visually-hidden">Urutan</label>
                <select id="sort-order" name="sort_order" class="form-select">
                    <option value="ASC">A ‚Üí Z (Ascending)</option>
                    <option value="DESC">Z ‚Üí A (Descending)</option>
                </select>
            </div>
            
            <div class="col-12 col-md-2">
                <button type="submit" class="btn btn-gradient w-100">Cari / Filter</button>
            </div>
        </form>

        <div class="table-responsive">
            <table class="table table-hover table-bordered table-striped">
                <thead class="table-dark">
                    <tr>
                        <th>Nama Lengkap</th>
                        <th>Alamat</th>
                        <th>No. Telepon</th>
                        <th>Aksi</th>
                    </tr>
                </thead>
                <tbody id="jemaat-table-body"></tbody>
            </table>
        </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" 
            crossorigin="anonymous"></script>

    <script src="/js/main.js"></script> 
    <script src="/js/jemaat.js"></script>
</body>
</html>